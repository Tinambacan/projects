$(document).ready(function(){$("#select-all").on("change",function(){$(".feedback-checkbox").prop("checked",$(this).prop("checked")),a()}),$(".feedback-checkbox").on("change",function(){a()});function a(){$(".feedback-checkbox:checked").each(function(){$(this).data("feedback-id")})}$(".fa-envelope").on("click",function(){var e=c();e.length>0?$.ajax({url:"/feedback/mark-as-read",method:"POST",data:{feedback_ids:e,_token:$('meta[name="csrf-token"]').attr("content")},success:function(t){Swal.fire({icon:"success",title:"Success",text:t.message,showConfirmButton:!1,timer:2e3}).then(()=>{window.location.reload()})},error:function(t){Swal.fire({icon:"error",title:"Error",text:t.responseJSON.message})}}):Swal.fire({icon:"warning",title:"No Feedback Selected",text:"Please select at least one feedback to mark as read."})}),$(".fa-trash").on("click",function(){var e=c();e.length>0?$.ajax({url:"/feedback/delete",method:"POST",data:{feedback_ids:e,_token:$('meta[name="csrf-token"]').attr("content")},success:function(t){Swal.fire({icon:"success",title:"Success",text:t.message,showConfirmButton:!1,timer:2e3}).then(()=>{window.location.reload()})},error:function(t){Swal.fire({icon:"error",title:"Error",text:t.responseJSON.message})}}):Swal.fire({icon:"warning",title:"No Feedback Selected",text:"Please select at least one feedback to delete."})});function c(){var e=[];return $(".feedback-checkbox:checked").each(function(){e.push($(this).data("feedback-id"))}),e}$(".feed-btn").on("click",function(e){e.stopPropagation();const t=$(this).data("feedback-id");$(".feedback-modal-container").addClass("hidden"),$(`.feedback-modal-container[data-feedback-id="${t}"]`).toggleClass("hidden")}),$(document).on("click",function(e){!$(e.target).closest(".feed-btn").length&&!$(e.target).closest(".feedback-modal-container").length&&$(".feedback-modal-container").addClass("hidden")}),$(".delete-btn").on("click",function(){const e=$(this).closest(".feedback-modal-container").data("feedback-id");$.ajax({url:"/feedback/delete",type:"POST",data:{feedback_ids:[e],_token:$('meta[name="csrf-token"]').attr("content")},success:function(t){window.location.reload()},error:function(t){}}),$(this).closest(".feedback-modal-container").addClass("hidden")}),$(".read-btn").on("click",function(){const e=$(this).closest(".feedback-modal-container").data("feedback-id");$.ajax({url:"/feedback/mark-as-read",type:"POST",data:{feedback_ids:[e],_token:$('meta[name="csrf-token"]').attr("content")},success:function(t){window.location.reload()},error:function(t){}}),$(this).closest(".feedback-modal-container").addClass("hidden")})});
