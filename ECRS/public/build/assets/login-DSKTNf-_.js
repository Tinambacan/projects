$(document).ready(function(){$(".toggle-password").click(function(){$(this).toggleClass("fa-eye fa-eye-slash");var s=$($(this).attr("toggle"));s.attr("type")=="password"?s.attr("type","text"):s.attr("type","password")})});$(document).on("click","#myLoginFaculty",function(s){s.preventDefault();var e=$(this).closest("form")[0],t=$(this);if(!e){console.error("Form not found.");return}t.prop("disabled",!0).html(`
       <div class="flex items-center text-center justify-center gap-2">
                <i class="fa-solid fa-spinner fa-spin text-xl text-red-900 dark:text-[#CCAA2C]"></i>
            </div>
    `).removeClass("hover:bg-gray-200 cursor-pointer"),$.ajax({url:"/sign-in-faculty",type:"POST",data:new FormData(e),processData:!1,contentType:!1,success:function(o){o.status==="success"?(e.reset(),Swal.fire({title:"Success!",text:o.message||"Login successful!",icon:"success",timer:2e3,showConfirmButton:!1}).then(()=>{window.location.href=o.redirect_url})):(t.prop("disabled",!1).html("Login").addClass("hover:bg-gray-200 cursor-pointer"),r(o.message||"An error occurred."))},error:function(o,a,i){console.error("AJAX error:",a,i),t.prop("disabled",!1).html("Login").addClass("hover:bg-gray-200 cursor-pointer"),r("An error occurred while processing your request.")}});function r(o){t.prop("disabled",!1).html("Login").addClass("hover:bg-gray-200 cursor-pointer"),e.reset(),Swal.fire({title:"Error!",text:o,icon:"error"})}});$(document).on("click","#myLoginAdmin",function(s){s.preventDefault();var e=$(this).closest("form")[0],t=$(this);if(!e){console.error("Form not found.");return}t.prop("disabled",!0).html(`
       <div class="flex items-center text-center justify-center gap-2">
                <i class="fa-solid fa-spinner fa-spin text-xl text-red-900 dark:text-[#CCAA2C]"></i>
            </div>
    `).removeClass("hover:bg-gray-200 cursor-pointer"),$.ajax({url:"/sign-in-admin",type:"POST",data:new FormData(e),processData:!1,contentType:!1,success:function(r){r.status==="success"?(e.reset(),Swal.fire({title:"Success!",text:r.message||"Login successful!",icon:"success",timer:2e3,showConfirmButton:!1}).then(()=>{window.location.href=r.redirect_url,t.prop("disabled",!1).html("Login").addClass("hover:bg-gray-200 cursor-pointer")})):r.status==="error"?(t.prop("disabled",!1).html("Login").addClass("hover:bg-gray-200 cursor-pointer"),console.error("Error:",r.message),e.reset(),Swal.fire({title:"Error!",text:r.message||"An error occurred.",icon:"error"})):(t.prop("disabled",!1).html("Login").addClass("hover:bg-gray-200 cursor-pointer"),console.error("Invalid response format:",r),e.reset(),Swal.fire({title:"Error!",text:"Unexpected response format.",icon:"error"}))},error:function(r,o,a){e.reset(),t.prop("disabled",!1).html("Login").addClass("hover:bg-gray-200 cursor-pointer"),console.error("AJAX error:",o,a)}})});$(document).on("click","#myLoginStudent",function(s){s.preventDefault();var e=$(this).closest("form")[0],t=$(this);if(!e){console.error("Form not found.");return}t.prop("disabled",!0).html(`
        <div class="flex items-center text-center justify-center gap-2">
                 <i class="fa-solid fa-spinner fa-spin text-xl text-red-900 dark:text-[#CCAA2C]"></i>
             </div>
     `).removeClass("hover:bg-gray-200 cursor-pointer"),$.ajax({url:"/sign-in-student",type:"POST",data:new FormData(e),processData:!1,contentType:!1,success:function(r){r.status==="success"?(e.reset(),Swal.fire({title:"Success!",text:r.message||"Login successful!",icon:"success",timer:2e3,showConfirmButton:!1}).then(()=>{window.location.href=r.redirect_url})):r.status==="error"?(t.prop("disabled",!1).html("Login").addClass("hover:bg-gray-200 cursor-pointer"),console.error("Error:",r.message),e.reset(),Swal.fire({title:"Error!",text:r.message||"An error occurred.",icon:"error"})):(t.prop("disabled",!1).html("Login").addClass("hover:bg-gray-200 cursor-pointer"),console.error("Invalid response format:",r),e.reset(),Swal.fire({title:"Error!",text:"Unexpected response format.",icon:"error"}))},error:function(r,o,a){e.reset(),console.error("AJAX error:",o,a)}})});
